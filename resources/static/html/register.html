<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>注册用户</title>
<link rel="stylesheet" href="../bootstrap/css/bootstrap.min.css"/>
<script src="../easyui/jquery.min.js"></script>
<script src="../bootstrap/js/bootstrap.min.js"></script>

<style type="text/css">
	body {background-color: #f8f6e9 }
</style>
</head>
<body>
	<h1 class="col-sm-offset-5 col-sm-6">注册账号</h1>
	<form class="form-horizontal" action="#" method="post">
	  <div class="form-group">
	    <label for="username" class="col-sm-offset-2 col-sm-2 control-label">账号：</label>
	    <div class="col-sm-4">
	      <input name="username" class="form-control" id="username" placeholder="请输入账号。"/>
	    </div>
	  </div>
	  <div class="form-group">
	    <label for="nickname" class="col-sm-offset-2 col-sm-2 control-label">昵称：</label>
	    <div class="col-sm-4">
	      <input name="nickname" class="form-control" id="nickname" placeholder="请输入昵称。"/>
	    </div>
	  </div>
	  <div class="form-group">
	    <label for="email" class="col-sm-offset-2 col-sm-2 control-label">邮箱：</label>
	    <div class="col-sm-4">
	      <input type="email" class="form-control" id="email" name="email" placeholder="请输入邮箱。"/>
	    </div>
	  </div>
	  <div class="form-group">
	    <label for="password" class=" col-sm-offset-2 col-sm-2 control-label">密码：</label>
	    <div class="col-sm-4">
	      <input type="password" name="password" class="form-control" id="password" placeholder="请输入密码。"/>
	    </div>
	  </div>
	  <div class="form-group">
	    <label for="phonenumber" class=" col-sm-offset-2 col-sm-2 control-label">手机号：</label>
	    <div class="col-sm-4">
	      <input name="phonenumber" class="form-control" id="phonenumber" placeholder="请输入手机号。"/>
	    </div>
	  </div>
	  <div class="form-group">
	    <label for="phonenumber" class=" col-sm-offset-2 col-sm-2 control-label">一卡通卡号：</label>
	    <div class="col-sm-4">
	      <input name="card_no" class="form-control" id="card_no" placeholder="请输入一卡通卡号。"/>
	    </div>
	  </div>
	  <div class="form-group">
	    <div class="col-sm-offset-5 col-sm-4">
	      <button id="register" type="button" class="btn btn-success">注册</button>
	    </div>
	  </div>
	</form>
</body>
<script>
	$(function(){
		$("#register").on("click",function(){
			var flag=true;
			$("input").each(function(i,e){
				if(!$(this).val()){
					alert($(this).attr("placeholder"));
					flag=false;
					return false;
				}
			});
			if(!flag){
				return;
			}
			$.ajax({
				url:"/register",
				data:$("form").serialize(),
				method:'POST',
				async:false,
				dataType:'json',
				success:function(data){
					alert(data.result_msg);
					if(data.result_status == 1){
						window.location.href="toLogin";
					}
				}
			});
		});
	});
</script>
</html>